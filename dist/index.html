
<!doctype html>
<html>
<head>
  <title>Hyperaudio Pad</title>
  <meta charset='utf-8' />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Merriweather" rel="stylesheet">

  <style>
    /* demo layout */
    html, body {
      text-align: center;
      font-family: 'Merriweather', serif;
      line-height: 1.7em;
      word-spacing: 0.1em;
    }

    main {
      margin: 0 auto;
      max-width: 1300px;
    }

    main > section {
      float: left;
      width: 50%;
      max-width: 640px;
      text-align: left;
    }

    main > section + section {
      margin-left: 20px;
    }

    main > header {
      background-color: #d74b36;
      height: 60px;
      margin-bottom: 1em;
    }

    /*#d74b36*/
    ::selection {
      background: #87d8e7;
      text-shadow: none;
      /*color: white;*/
    }
  </style>

  <style>
    /* hyperaudio styles */
    .hyperaudio-sink .hyperaudio-effect:focus {
      border-left: 2px solid #d74b36;
      outline: none;
    }

    .hyperaudio-source .hyperaudio-transcript {
      border-left: 1px solid transparent;
      border-right: 1px solid transparent;
      padding-left: 1em;
      padding-right: 1em;
      outline: none;
    }

    .hyperaudio-sink .hyperaudio-transcript {
      border-left: 1px solid transparent;
      border-right: 1px solid transparent;
      padding-left: 1em;
      padding-right: 1em;
      outline: none;
    }

    .hyperaudio-sink .hyperaudio-transcript:focus {
      border-left: 1px solid red;
      border-right: 1px solid transparent;
      padding-left: 1em;
      padding-right: 1em;
      outline: none;
    }

    .hyperaudio-transcript {
      border-top: 0 solid white;
      transition: border-top 0.15s;
    }

    .hyperaudio-sink .hyperaudio-transcript.over {
      border-top: 2em solid #e9f8fb;
      transition: border-top 0.15s;
    }

    /* FIXME */
    .hyperaudio-sink article > div {
      height: 10em;
      background-color: transparent;
      transition: background-color 0.15s;
    }

    .hyperaudio-sink article.over > div {
      height: 10em;
      background-color: #e9f8fb;
      transition: background-color 0.15s;
    }

    .hyperaudio-player header, .hyperaudio-player video {
      max-width: 634px;
      max-height: 360px;
      margin-bottom: 2em;
      background-color: black;
    }

    .hyperaudio-player:not(.hyperaudio-source) *[data-t] {
        cursor: pointer;
    }

    .hyperaudio-player video {
      width: 100%;
    }

    .hyperaudio-player p {
      color: #658898;
      margin: 0;
      padding: .5em 0;
    }

    .hyperaudio-player .past {
      color: black;
    }

    .hyperaudio-player .active {
      color: #d74b36;
    }

    .hyperaudio-source .selected, hyperaudio-player .active.selected {
      /*background-color: lightpink;*/
      background: #87d8e7;
      text-shadow: none;
      /*color: white;*/
    }

    .hyperaudio-effect {
      background-color: #fafaff;
      padding: .5em;
    }

    .hyperaudio-effect input {
      width: 33%;
    }
  </style>

</head>
<body>
  <main>
    <header>

    </header>
    <!-- Player -->
    <section id="player" class="hyperaudio-player hyperaudio-source">
      <header class="hyperaudio-media">
      </header>

      <article>
      </article>
    </section>

    <!-- Remixer -->
    <section id="remixer" class="hyperaudio-player hyperaudio-sink">
      <header class="hyperaudio-media">
      </header>

      <article>
        <section class="hyperaudio-transcript" data-src="https://s3.amazonaws.com/xn--cckb1i8d.trint.com/55932ab68822d3e66ea4f269/3648514544741/8d2f8d41-6a02-46dd-bef4-e73c12d51b1b/Arrt2L12ROqdB4mo56222g.mp4" data-type="video/mp4">
          <p>
            <span data-t=".54,.81">Friends </span>
            <span data-t="1.71,.69">Romans. </span>
            <span data-t="3.27,.57">Countrymen </span>
            <span data-t="3.9,.36">lend </span>
            <span data-t="4.26,.21">me </span>
            <span data-t="4.47,.63">Aria's. </span>
            <span data-t="6.3,.15">I </span>
            <span data-t="6.45,.3">come </span>
            <span data-t="6.75,.15">to </span>
            <span data-t="6.9,.39">bury </span>
            <span data-t="7.29,.48">Caesar </span>
            <span data-t="7.98,.3">not </span>
            <span data-t="8.31,.18">to </span>
            <span data-t="8.49,.42">praise </span>
            <span data-t="8.91,.17">him. </span>
          </p>
        </section>
        <div>
          <!-- drop area -->
        </div>
      </article>
    </section>

  </main>

  <script>
    window.hyperaudio = {};
  </script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="bundle.js"></script>
  <script>
    axios.get('http://studsterkel.api.hyperaud.io/v1/transcripts/UO5wDCaqSRawl22uTb6ciw')
      .then(function(response) {
        console.log(response.data);

        document.querySelector('.hyperaudio-player')
          .querySelector('article').outerHTML = response.data.content;

        var section = document.querySelector('.hyperaudio-player')
          .querySelector('article section');

        section.setAttribute('data-src', response.data.media.source.mp4.url);
        section.setAttribute('data-type', response.data.media.source.mp4.type);
        section.classList.add('hyperaudio-transcript');

        window.hyperaudio = new window.Hyperaudio();
      })
      .catch(function(error) {
        console.log(error);
      });
  </script>

</body>
</html>
